<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="sqlField_mall">
	
	
	<insert id="insertTemp" parameterType="myTempCart">
		insert into temp_cart
			values(#{cart_num}, #{p_num}, #{cart_qty})
	</insert>
	
	<select id="selectTemp" resultType="myTempCart">
		select p_num, cart_qty from temp_cart
		where cart_num = #{cart_num}
	</select>
	
		
	<select id="selectProd" resultType="myProduct">
		select p_name, p_price from product
		where p_num = #{p_num}
	</select>
	
	<select id="selectUser" resultType="Users">
		select u_name, u_phone from users
		where u_id = #{u_id}
	</select>
	
	<delete id="deleteTemp">
		delete from temp_cart where cart_num = #{cart_num}
	</delete>
	
	<insert id="insertOrderProd">
		insert into ordersProduct
			values(#{o_num}, #{p_num}, #{cart_qty})
	</insert>
	
	<insert id="insertOrderInfo">
		insert into orders 
			values(#{o_num},#{u_id},#{o_phone},#{o_name},#{o_addr},
			#{o_date},#{pay_bank},#{pay_name},#{way})
	</insert>
	
	<select id="selectMaxO_num" resultType="int">
		select MAX(o_num) from orders;
	</select>
</mapper>